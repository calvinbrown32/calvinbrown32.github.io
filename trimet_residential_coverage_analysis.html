</html>
<html lang="en">
  <head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, viewport-fit=cover">

  <title>Calvin Brown</title>

  <meta name="author" content="" />
  <meta name="description" content="Urban Planner, Data Analyst, Cartographer, Transit and Safe Streets Advocate">


<link rel="stylesheet" href="https://calvinbrown32.github.io//css/bootstrap4.min.css" />
<link rel="stylesheet" href="https://calvinbrown32.github.io//css/bootstrap-social.css" />
<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.0/css/font-awesome.min.css" />

 <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
 <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
 <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

          <!-- D3 -->
    <script src="https://d3js.org/d3.v7.min.js"></script>


<link rel="stylesheet" href="https://calvinbrown32.github.io/css/pygment_highlights.css" />

<link rel="stylesheet" href="https://calvinbrown32.github.io/css/main.css" />


<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" />
<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" />


    <script type="text/javascript" src='https://calvinbrown32.github.io/JWAFiles/maxline.js'></script>
    <script type="text/javascript" src='https://calvinbrown32.github.io/JWAFiles/route2inboundline.js'></script>
    <script type="text/javascript" src='https://calvinbrown32.github.io/JWAFiles/route2outboundline.js'></script>
    <script type="text/javascript" src='https://calvinbrown32.github.io/JWAFiles/2021/isos_w_pop_max_yellow_stops.js'></script>
    <script type="text/javascript" src='https://calvinbrown32.github.io/JWAFiles/2021/isos_w_pop_route_2_inbound_and_io.js'></script>
    <script type="text/javascript" src='https://calvinbrown32.github.io/JWAFiles/2021/isos_w_pop_route_2_outbound.js'></script>
    <script type="text/javascript" src='https://calvinbrown32.github.io/JWAFiles/2021/transit_stops_w_pop_max_yellow_stops.js'></script>
    <script type="text/javascript" src='https://calvinbrown32.github.io/JWAFiles/2021/transit_stops_w_pop_route_2_inbound_and_io.js'></script>
    <script type="text/javascript" src='https://calvinbrown32.github.io/JWAFiles/2021/transit_stops_w_pop_route_2_outbound.js'></script>

     <link rel="stylesheet" href="https://unpkg.com/leaflet@1.4.0/dist/leaflet.css" integrity="sha512-puBpdR0798OZvTTbP4A8Ix/l+A4dHDD0DGqYW6RQ+9jxkRFclaxxQb/SJAWZfWAkuyeQUytO7+7N4QKrDh+drA==" crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.4.0/dist/leaflet.js" integrity="sha512-QVftwZFqvtRNi0ZyCtsznlKSWOStnDORoefr1enyq5mVL4tmKB3S/EnC3rRJcxCPavG10IcrVGSmPh6Qw5lwrg==" crossorigin=""></script>


	<style>
		html, body {
			height: 100%;
			margin: 0;
		}
		#map {
			width: 600px;
			height: 400px;
		}

		    div.tooltip {
     position: absolute;
     text-align: center;
     padding: .5rem;
     background: #FFFFFF;
     color: #313639;
     border: 1px solid #313639;
     border-radius: 8px;
     pointer-events: none;
     font-size: 1.3rem;
     }
	</style>

	<style>#map { width: 99%; height: 500px; }
.info { padding: 6px 8px; font: 14px/16px Arial, Helvetica, sans-serif; background: white; background: rgba(255,255,255,0.8); box-shadow: 0 0 15px rgba(0,0,0,0.2); border-radius: 5px; } .info h4 { margin: 0 0 5px; color: #777; }
.legend { text-align: left; line-height: 18px; color: #555; } .legend i { width: 18px; height: 18px; float: left; margin-right: 8px; opacity: 0.7; }</style>


</head>
  <!-- The head should not be edited -->


<body>


<!-- This is the navbar and should not be edited -->
<nav class="navbar navbar-expand-md fixed-top navbar-light bg-light">
    <a class="navbar-brand-custom" href="http://calvinbrown32.github.io">Calvin Brown</a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="collapsibleNavbar">
    <ul class="navbar-nav ml-auto">

    <!-- ** FUTURE ABOUT PAGE HERE:
        <li class="nav-item-custom">
          <a class="nav-link" href="https://calvinbrown32.github.io/resume">About</a> </li>
    ** -->

   <!-- ** FUTURE ABOUT PAGE HERE:
        <li class="nav-item-custom">
        <a class="nav-link" href="http://127.0.0.1:5000/portfolio2">Portfolio</a> </li>
   ** -->

       <li class="nav-item-custom">
       <a class="nav-link" href="https://calvinbrown32.github.io/essays">Essays</a> </li>

        <li class="nav-item-custom">
        <a class="nav-link" href="https://calvinbrown32.github.io/resume">Resume</a> </li>

       <li class="nav-item-custom">
       <a class="nav-link" href="https://calvinbrown32.github.io/contact">Contact</a> </li>

    </ul>
  </div>
</nav>

<!-- The header below should be modified or removed depending on the theme of the website.-->


<header class="header-section ">
<div class="intro-header no-img">
  <div class="container">
    <div class="row">
      <div class="col">
        <div class="page-heading">
          <h1>Portland TriMet Residential Coverage</h1>

            <hr class="small">
            <span class="page-subheading">Residential Coverage Analysis of Route 2 and Max Yellow Line</span>
        </div>
      </div>
    </div>
  </div>
</div>
</header>

<!-- The main body content should be added here -->
<div class="container">
<div class="row">
<div class="col">
 <!--
  <p>
       <i> This PDF was generated from <a href="https://calvinbrown32.github.io/trimet_residential_coverage_analysis.html">https://calvinbrown32.github.io/trimet_residential_coverage_analysis.html</a></i>
    </p>
    -->
<p>
    This residential coverage analysis estimates the number of inhabitants within Â½ mile of each station on the MAX Yellow Line and each bus stop of the inbound and outbound Route 2 bus. Understanding how many people live and quick access to transit is crucial to understanding and predicting ridership, measuring the appropriateness of bus stop location and spacing,  and assessing myriad other factors that play into difficult decisions regarding transit investment and planning. The interactive map and charts I created allow users to explore and understand this important statistic, and give them the ability to pinpoint bus stops that have exceptionally low or high residential coverage.
</p>
    <h4> Methodology  </h4>
<p>
From downloading the Census block group level population data, to creating the final data outputs, interactive maps, and charts, this entire process has been coded using open source tools in Python and Javascript. The code used in this analysis can be viewed on <a href="https://github.com/calvinbrown32/JWA_2021/blob/master/osm_network_analysis_and_residential_coverage_area_creation.ipynb">Github</a>. There are many advantages to using code to conduct the analysis. The main advantage is scalability. The code used for this analysis can be used to quickly conduct the same analysis for any transit system in the world. The code is well documented,  and the code itself is documentation of the process. This allows the work to be replicated, peer reviewed, and checked for quality assurance. The code can be leveraged across projects, across time and geographies, and can be further developed into increasingly complex analyses, interactive applications or web tools.
<br>

    The following steps were taken in the analysis:
</p>

    <ol>
  <li>
First, Python was used to download the 2019 5-year American Community Survey (ACS) population data at the block group level from the Census API, and merge the population data with the Census block group level geographies.
  </li>
  <li>
Next, I used OSMnx to download and process a topological street network for Multnomah County, and create isochrones for each transit stop that approximate 1/2 miles distance traveling along the walkable street network.
  </li>
  <li>
The isochrones are dissolved, resulting in polygons that represent everywhere that is within 1/2 mile travel on the walkable network from any of the transit stops on the route. Below is an image of the dissolved isochrones for the outbound Route 2 bus:
  </li>
<br>
        <img src="https://calvinbrown32.github.io/JWAFiles/2021/Dissolved_Iso.png" alt="dissolved_iso" width= 80%>
<br>
        <br>
<li>
The area within the dissolved isochrones is next split into Voronoi polygons. These polygons demarcate an area for each individual transit stop that consists of all points within the dissolved isochrone layer that are closer to that transit stop than to any other stop. This step ensures that residents living near two or more stops are not double counted. These polygons are the residential coverage areas for each transit stop. See an image of these areas below:
</li>
<br>
        <img src="https://calvinbrown32.github.io/JWAFiles/2021/Iso_With_Stops.png" alt="Iso_With_Stops" width= 80%>
<br>
        <br>
        <li>
The Census population data is at the block group level. The block group geographies do no align with the residential coverage areas created in earlier steps, and so additional step will need to be taken to estimate what proportion of the residents counted in the block groups live within the residential coverage areas. First, the block groups are clipped to the residential coverage areas, and the areal proportion of each block group falling fully or partially within the residential coverage areas is calculated. See an image below of the block group areas clipped to the residential coverage areas.
</li>
        <br>
<img src="https://calvinbrown32.github.io/JWAFiles/2021/Iso_Block_Groups.png" alt="Iso_Block_Groups" width= 80%>
        <br>
        <br>

<li>
Next, the total population figure for each block group is multiplied by the areal proportion calculated in step 6 above.
</li>

<li>
For each residential coverage area, I summed the proportional population estimates of every block group falling within it. The resulting sum is the estimated number of people living within 1/2 mile network distance from each transit stop.
</li>
</ol>

    <br>
<br>


	<h4> TriMet Residential Coverage Interactive Map</h4>
    <p>
      This map allows users to view the residential coverage of each transit stop. The residential coverage area for each stop is defined as the region around a given transit stop consisting of all points closer to that transit stop than any other transit stop on the same route, and within Â½ mile network distance from the stop. Click on the layers button in the upper righthand corner to view different routes. Click on map features to view the residential coverage for each transit stop.
    </p>
	<br>

<div class="container">
<div class="row align-items-center">
<div class="col-sm-12  py-4">
<div id='map'class="mx-auto"></div>

<script src="JWAFiles/2021/leaflet_map.js"></script>

</div>
</div>
</div>


    <div class="container">
<div id="bar_graph_area" class="row">
    <div id="bar_graph" class="col"></div>

<script src="JWAFiles/2021/max_bar_chart.js"></script>

</div>
</div>
    <br>
<br>
<br>
<p>Code used in the analysis can be viewed at <a href="https://github.com/calvinbrown32/JWA_2021/"> this Github Repository</a></p>
<br>
<br>

</div>
</div>
</div>
</div>
    <br>

<!-- The footer is straightforward and does not need to be modified. -->

  <footer>
  <div class="container">
    <div class="row">
      <div class="col">

        <ul class="list-inline text-center footer-links">

            <li class="list-inline-item">
                <a href="mailto:calvinbrown32@gmail.com" title="Email me"><span class="fa-stack                 fa-lg" aria-hidden="true">
                  <i class="fa fa-circle fa-stack-2x"></i>
                  <i class="fa fa-envelope fa-stack-1x fa-inverse"></i>
                </span>
                <span class="sr-only">Email me</span>
              </a>
            </li>


            <li class="list-inline-item">
                <a href="https://www.instagram.com/calvindechicago" title="Instagram"><span                     class="fa-stack fa-lg" aria-hidden="true">
                  <i class="fa fa-circle fa-stack-2x"></i>
                  <i class="fa fa-instagram fa-stack-1x fa-inverse"></i>
                </span>
                <span class="sr-only">Instagram</span>
              </a>
            </li>

            <li class="list-inline-item">
                <a href="https://linkedin.com/in/calvin-brown-467b4b33" title="LinkedIn"><span                  class="fa-stack fa-lg" aria-hidden="true">
                  <i class="fa fa-circle fa-stack-2x"></i>
                  <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i>
                </span>
                <span class="sr-only">LinkedIn</span>
              </a>
            </li>
        </ul>

      <p class="copyright text-muted">
      &nbsp;&bull;&nbsp;
      2021

      &nbsp;&bull;&nbsp;
      <a href="https://calvinbrown32.github.io">Calvin Brown</a>
      </p>

      </div>
    </div>
  </div>
</footer>

  </body>
</html>
